<div class="md-raised ranking"
     layout="column" layout-align="center center" flex>

    <!--TODO: redirect to user on username click-->

    <md-content layout="row" flex="90">

        <div md-whiteframe="-1" layout="column" flex>

            <md-toolbar class="transparent" layout="row" flex="10">
                <div class="md-toolbar-tools"
                     layout="row" layout-align="center center">
                    <span class="md-subhead ranking-title">{{vm.ranking.name}}</span>
                </div>
            </md-toolbar>

            <md-table-container layout="row" flex="90">
                <table md-table
                       md-progress="vm.promise"
                       layout="column" flex>

                    <thead md-head layout="row" flex="10">

                    <tr md-row layout="row" flex>
                        <th md-column flex="20">#</th>
                        <th md-column flex="50">Name</th>
                        <th md-column flex="30">Score</th>
                    </tr>

                    </thead>

                    <tbody md-body layout="column" flex>
                        <tr md-row
                            ng-repeat="debater in vm.ranking.debaters | filter: filter.search | orderBy: vm.query.order: -1 | limitTo: vm.query.limit : (vm.query.page -1) * vm.query.limit"
                            md-select="debater"
                            layout="row" flex="20">

                            <td md-cell
                                layout="column"
                                layout-align="center start"
                                flex>

                                {{$index + 1 + (vm.query.page - 1) * vm.query.limit}}
                            </td>

                            <td md-cell
                                layout="column"
                                layout-align="center start"
                                flex="50">

                                <a href="#"><strong>{{debater.name}}</strong></a>
                            </td>

                            <td md-cell
                                layout="column"
                                layout-align="center start"
                                flex>

                                {{debater.score | number: 1}}
                            </td>
                        </tr>
                    </tbody>
                </table>
            </md-table-container>

            <md-table-pagination
                    md-limit="vm.query.limit"
                    md-page="vm.query.page"
                    md-total="{{vm.ranking.count}}"
                    md-page-select="vm.options.pageSelect"
                    md-boundary-links="vm.options.boundaryLinks"
                    layout="row"
                    layout-align="center center"
                    flex="10">

            </md-table-pagination>
        </div>
    </md-content>
</div>
